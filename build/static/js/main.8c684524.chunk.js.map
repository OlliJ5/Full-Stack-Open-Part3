{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","res","data","personObject","post","id","delete","concat","newPerson","put","Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","addNumber","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","filteredPersons","handleClick","map","person","key","name","number","onClick","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","useEffect","personService","toLowerCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","window","confirm","personId","find","setTimeout","components_Persons","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8c684524.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(res => res.data)\n}\n\nconst create = (personObject) => {\n  const request = axios.post(baseUrl, personObject)\n  return request.then(res => res.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(res => res.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(res => res.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Filter = ({filter, handleFilterChange}) => {\n  return (\n    <div>\n      filter: <input value={filter}\n        onChange={handleFilterChange}\n      />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addNumber, newName, handleNameChange, newNumber, handleNumberChange}) => {\n  return (\n    <div>\n      <form onSubmit={addNumber}>\n        <div>\n          name: <input value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number: <input value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ filteredPersons, handleClick }) => {\n    return (\n        <div>\n            {filteredPersons.map(person =>\n                <p key={person.name}>\n                    {person.name}  {person.number}\n                    <button onClick={() => handleClick(person.id)}>delete</button>\n                </p>)}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return (\n      null\n    )\n  } else if (message === 'Käyttäjän tiedot on jo poistettu') {\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(res => {\n        setPersons(res)\n      })\n  }, [])\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} is in the phonebook. Replace the number?`)) {\n        const personId = persons.find(person => person.name === newName)\n        personService.update(personId.id, personObject)\n          .then(res => {\n            setPersons(persons.map(person => person.id !== personId.id ? person : res))\n          })\n        setMessage(`Henkilön ${newName} numero päivitetty`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }\n    } else {\n      personService.create(personObject)\n        .then(res => {\n          setPersons(persons.concat(res))\n        })\n      setMessage(`Henkilö ${newName} lisätty puhelinluetteloon`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const removePerson = (id) => {\n    if (window.confirm('Poistetaanko')) {\n      personService.remove(id)\n        .then(res => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch(error => {\n          setMessage('Käyttäjän tiedot on jo poistettu')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setPersons(persons.filter(person => person.id !== id))\n        })\n      setMessage(`Poisto onnistui`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  }\n\n  const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n\n      <Notification message={message} />\n\n      <h1>Phonebook</h1>\n\n      <h2>Filter the phonebook</h2>\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h2>Add a new number</h2>\n      <PersonForm addNumber={addNumber}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons filteredPersons={filteredPersons} handleClick={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}